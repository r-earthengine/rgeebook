<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>R and Python requirements | Earth Engine with R</title>
<meta name="author" content="rgee team">
<meta name="generator" content="bookdown 0.25.2 with bs4_book()">
<meta property="og:title" content="R and Python requirements | Earth Engine with R">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="R and Python requirements | Earth Engine with R">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1.9000/transition.js"></script><script src="libs/bs3compat-0.3.1.9000/tabs.js"></script><script src="libs/bs3compat-0.3.1.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-141212623-1"></script><script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-141212623-1');
  </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<meta name="description" content="rgee requires both R and Python third-party packages, making the installation a little tricky. Installation of R packages should be simple thanks to Rtools. Install from CRAN with:...">
<meta property="og:description" content="rgee requires both R and Python third-party packages, making the installation a little tricky. Installation of R packages should be simple thanks to Rtools. Install from CRAN with:...">
<meta name="twitter:description" content="rgee requires both R and Python third-party packages, making the installation a little tricky. Installation of R packages should be simple thanks to Rtools. Install from CRAN with:...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Earth Engine with R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="earthengine-examples.html">earthengine-examples</a></li>
<li><a class="" href="rgee-cheatsheet.html">rgee-cheatsheet</a></li>
<li class="book-part">R Guides</li>
<li><a class="" href="overview.html">Overview</a></li>
<li><a class="" href="rgeeextra.html">rgeeExtra</a></li>
<li><a class="" href="visualization.html">Visualization</a></li>
<li class="book-part">Get Started</li>
<li><a class="" href="r-quickstart.html">R Quickstart</a></li>
<li><a class="" href="coding-best-practices.html">Coding Best Practices</a></li>
<li><a class="" href="debugging.html">Debugging</a></li>
<li class="book-part">Development Environments</li>
<li><a class="" href="earth-engine-in-rstudio.html">Earth Engine in Rstudio</a></li>
<li><a class="active" href="r-and-python-requirements.html">R and Python requirements</a></li>
<li><a class="" href="sync-gcs-and-rgee.html">sync GCS and rgee</a></li>
<li><a class="" href="integrate-rmarkdown-and-rgee.html">Integrate Rmarkdown and rgee</a></li>
<li><a class="" href="deploy-rgee-shiny-apps.html">Deploy rgee Shiny apps</a></li>
<li><a class="" href="comparing-rgee-vs-python-and-javascript.html">Comparing rgee vs Python and Javascript</a></li>
<li><a class="" href="extra-considerations.html">Extra considerations</a></li>
<li class="book-part">API Tutorials</li>
<li><a class="" href="overview-1.html">Overview</a></li>
<li><a class="" href="introduction-to-r-for-earth-engine.html">Introduction to R for Earth Engine</a></li>
<li><a class="" href="the-earth-engine-api.html">The Earth Engine API</a></li>
<li><a class="" href="global-forest-change.html">Global Forest Change</a></li>
<li><a class="" href="global-surface-water.html">Global Surface Water</a></li>
<li><a class="" href="video-tutorials-1.html">Video Tutorials</a></li>
<li class="book-part">Concepts</li>
<li><a class="" href="how-earth-engine-works.html">How Earth Engine works</a></li>
<li><a class="" href="client-vs-server.html">Client vs Server</a></li>
<li><a class="" href="deferred-exacution.html">Deferred exacution</a></li>
<li><a class="" href="scale.html">Scale</a></li>
<li><a class="" href="projections.html">Projections</a></li>
<li class="book-part">Objects and Methods</li>
<li><a class="" href="objects-and-methods-overview.html">Objects and Methods Overview</a></li>
<li><a class="" href="image.html">Image</a></li>
<li><a class="" href="imagecollection.html">ImageCollection</a></li>
<li><a class="" href="geometry.html">Geometry</a></li>
<li><a class="" href="feature-featurecollection.html">Feature &amp; FeatureCollection</a></li>
<li><a class="" href="reducer.html">Reducer</a></li>
<li><a class="" href="join.html">Join</a></li>
<li><a class="" href="array.html">Array</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/r-earthengine/rgeebook">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="r-and-python-requirements" class="section level1 unnumbered">
<h1>R and Python requirements<a class="anchor" aria-label="anchor" href="#r-and-python-requirements"><i class="fas fa-link"></i></a>
</h1>
<p><code>rgee</code> requires both R and Python third-party packages, making the installation a
little tricky. Installation of R packages should be simple thanks to <a href="https://cran.r-project.org/bin/windows/Rtools/rtools40.html">Rtools</a>.</p>
<p>Install from CRAN with:</p>
<div class="sourceCode" id="cb110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"rgee"</span><span class="op">)</span></code></pre></div>
<p>Install the development versions from github with</p>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org">remotes</a></span><span class="op">)</span>
<span class="fu">install_github</span><span class="op">(</span><span class="st">"r-spatial/rgee"</span><span class="op">)</span></code></pre></div>
<p>However, certain issues may arise when users try to set up a Python environment. In a
nutshell, <code>rgee</code> Python requirements are:</p>
<ol style="list-style-type: decimal">
<li>A Python environment (PYENV).</li>
<li>Install in that PYENV: <a href="https://pypi.org/project/numpy/">numpy</a> and <a href="https://pypi.org/project/earthengine-api/">earthengine-api</a>
</li>
</ol>
<p>The <a href="https://r-spatial.github.io/rgee/reference/ee_install.html"><strong><code>ee_install</code></strong></a> built-in function is
best way to set up the previous Python prerequisite. In short, it performs the following tasks: (1) create a Python environment, (2) Set an environment variable named “EARTHENGINE PYTHON” that saves your Python interpreter path in your global <a href="https://cran.r-project.org/web/packages/startup/vignettes/startup-intro.html">.Renviron</a> (it will let rgee where to search the next time you try to initialize Earth Engine), and (3) install the package requirements in the previously created environment. Users who want to utilize their own Python environment may alternatively run:</p>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># IMPORTANT: Change 'py_path' argument according to your own Python PATH</span>
<span class="co">## For Anaconda users - Windows OS</span>
<span class="co">## Anaconda users must need to run “where anaconda” in console.</span>
<span class="va">win_py_path</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span>
    <span class="st">"C:/Users/UNICORN/AppData/Local/Programs/Python/"</span>,
    <span class="st">"Python37/python.exe"</span>
<span class="op">)</span>
<span class="fu">ee_install_set_pyenv</span><span class="op">(</span>
  py_path <span class="op">=</span> <span class="va">win_py_path</span>,
  py_env <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># Change it for your own Python ENV</span>
<span class="op">)</span>

<span class="co">## For Anaconda users - MacOS users</span>
<span class="co">## Anaconda users must need to run “where anaconda” in console.</span>
<span class="fu">ee_install_set_pyenv</span><span class="op">(</span>
  py_path <span class="op">=</span> <span class="st">"/Users/UNICORN/opt/anaconda3/bin/python"</span>,
  py_env <span class="op">=</span> <span class="cn">NULL</span> <span class="co"># Change it for your own Python ENV</span>
<span class="op">)</span>

<span class="co">## For Miniconda users - Windows OS</span>
<span class="va">win_py_path</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span>
    <span class="st">"C:/Users/UNICORN/AppData/Local/r-miniconda/envs/rgee/"</span>,
    <span class="st">"python.exe"</span>
<span class="op">)</span>
<span class="fu">ee_install_set_pyenv</span><span class="op">(</span>
  py_path <span class="op">=</span> <span class="va">win_py_path</span>,
  py_env <span class="op">=</span> <span class="st">"rgee"</span> <span class="co"># Change it for your own Python ENV</span>
<span class="op">)</span>

<span class="co">## For Miniconda users - Linux/MacOS users</span>
<span class="va">unix_py_path</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span>
    <span class="st">"/home/UNICORN/.local/share/r-miniconda/envs/"</span>,
    <span class="st">"rgee/bin/python3"</span>
<span class="op">)</span>
<span class="fu">ee_install_set_pyenv</span><span class="op">(</span>
  py_path <span class="op">=</span> <span class="va">unix_py_path</span>,
  py_env <span class="op">=</span> <span class="st">"rgee"</span> <span class="co"># Change it for your own Python ENV</span>
<span class="op">)</span>

<span class="co">## For virtualenv users - Linux/MacOS users</span>
<span class="fu">ee_install_set_pyenv</span><span class="op">(</span>
  py_path <span class="op">=</span> <span class="st">"/home/UNICORN/.virtualenvs/rgee/bin/python"</span>,
  py_env <span class="op">=</span> <span class="st">"rgee"</span> <span class="co"># Change it for your own Python ENV</span>
<span class="op">)</span>

<span class="co">## For Python root user - Linux/MacOS users</span>
<span class="fu">ee_install_set_pyenv</span><span class="op">(</span>
  py_path <span class="op">=</span> <span class="st">"/usr/bin/python3"</span>,
  py_env <span class="op">=</span> <span class="cn">NULL</span>, 
  Renviron <span class="op">=</span> <span class="st">"global"</span> <span class="co"># Save ENV variables in the global .Renv file</span>
<span class="op">)</span>

<span class="fu">ee_install_set_pyenv</span><span class="op">(</span>
  py_path <span class="op">=</span> <span class="st">"/usr/bin/python3"</span>,
  py_env <span class="op">=</span> <span class="cn">NULL</span>, 
  Renviron <span class="op">=</span> <span class="st">"local"</span> <span class="co"># Save ENV variables in a local .Renv file</span>
<span class="op">)</span></code></pre></div>
<p>Note that the PYENV you set must have the Earth Engine Python API and numpy installed. The use of <strong>miniconda/anaconda is mandatory for Windows users</strong>, Linux and MacOS users could also use virtualenv. See <a href="https://rstudio.github.io/reticulate/articles/python_packages.html">reticulate</a> documentation for more details. Another option, accessible exclusively on MacOS and Linux, is to simply modify the Python PATH variable:</p>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">rgee</span><span class="fu">::</span><span class="fu">ee_install_set_pyenv</span><span class="op">(</span>
  py_path <span class="op">=</span> <span class="st">"/usr/bin/python3"</span>,
  py_env <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
<p>However, <a href="https://r-spatial.github.io/rgee/reference/ee_install_upgrade.html"><strong>rgee::ee_install_upgrade</strong></a> and <a href="https://rstudio.github.io/reticulate/reference/py_install.html"><strong>reticulate::py_install</strong></a> will not work until you set a Python ENV. Your R session may need to be terminated after the installation process.</p>
<div id="rgee-initialization" class="section level2 unnumbered">
<h2>rgee Initialization<a class="anchor" aria-label="anchor" href="#rgee-initialization"><i class="fas fa-link"></i></a>
</h2>
<p>After installing both the R and Python requirements, users can now initialize Earth Engine. Take into account that R, in contrast to Javascript and Python, supports three distinct Google APIs:</p>
<ul>
<li>Google Earth Engine</li>
<li><a href="https://googledrive.tidyverse.org/">Google Drive</a></li>
<li><a href="https://code.markedmondson.me/googleCloudStorageR/">Google Cloud Storage</a></li>
</ul>
<p>The Google Drive and Google Cloud Storage APIs will help you to seamlessly transfer your finished EE task results to a local environment. Use the following instructions to establish your GEE account in conjunction with Google Drive or Google Cloud Storage:</p>
<div class="sourceCode" id="cb114"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/rgee/">rgee</a></span><span class="op">)</span>

<span class="co"># Initialize just Earth Engine</span>
<span class="fu">ee_Initialize</span><span class="op">(</span><span class="op">)</span>

<span class="co"># Initialize Earth Engine and GD</span>
<span class="fu">ee_Initialize</span><span class="op">(</span>drive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># Initialize Earth Engine and GCS</span>
<span class="fu">ee_Initialize</span><span class="op">(</span>gcs <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># Initialize Earth Engine, GD and GCS</span>
<span class="fu">ee_Initialize</span><span class="op">(</span>drive <span class="op">=</span> <span class="cn">TRUE</span>, gcs <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>After verifying your Google account and granting permission, you will be led to an authentication token. This token should be copied and pasted into your R terminal. Please consider that the Google Cloud Storage credential must be associated to a services account key. For further details, see this rgee <a href="https://r-spatial.github.io/rgee/articles/rgee05.html">vignette</a>. The verification process is only necessary once; after that, rgee keeps the credentials in your system so you do not have to do it again.</p>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="earth-engine-in-rstudio.html">Earth Engine in Rstudio</a></div>
<div class="next"><a href="sync-gcs-and-rgee.html">sync GCS and rgee</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-and-python-requirements">R and Python requirements</a></li>
<li><a class="nav-link" href="#rgee-initialization">rgee Initialization</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/r-earthengine/rgeebook/blob/master/chapters/02_dev_env.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/r-earthengine/rgeebook/edit/master/chapters/02_dev_env.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Earth Engine with R</strong>" was written by rgee team. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
